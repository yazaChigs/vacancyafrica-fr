<nz-tabset>
  <nz-tab nzTitle="Profile">
<form nz-form nzLayout="'vertical'" [formGroup]="form" (submit)="submit(form.value)">
  <nz-card nzType="inner" nzTitle="CREATE APPLICATION FORM">
<div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
  <div nz-col nzSpan="8">
    <nz-form-item>
      <nz-form-control>
          <input formControlName="firstName" nz-input placeholder="First Name">
        </nz-form-control>
    </nz-form-item>
              </div>
                <div  nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-control>
                        <input formControlName="middleName" nz-input placeholder="Middle name">
              </nz-form-control>
                  </nz-form-item>
          </div>
          <div nz-col nzSpan="8">
            <nz-form-item>
              <nz-form-control>
                  <input formControlName="lastName" nz-input placeholder="Last Name">
                </nz-form-control>
            </nz-form-item>
               </div>
        </div>

        <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
          <div nz-col nzSpan="8">
            <nz-form-item>
              <nz-form-control>
                  <input formControlName="dateOfBirth" nz-input PlaceHolder="D.O.B">
                </nz-form-control>
            </nz-form-item>
            </div>
            <div nz-col nzSpan="8">
              <nz-form-item>
                <nz-form-control>
                  <input formControlName="idNumber" nz-input PlaceHolder="ID Number">
                </nz-form-control>
              </nz-form-item >
            </div>
          <div nz-col nzSpan="8">
            <nz-form-item>
              <nz-form-control>
                  <nz-select formControlName="gender" nzPlaceHolder="Gender">
                      <nz-option nzValue="MALE" nzLabel="MALE"></nz-option>
                      <nz-option nzValue="FEMALE" nzLabel="FEMALE"></nz-option>
                    </nz-select>
              </nz-form-control>
            </nz-form-item >
          </div>
          </div>

          <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
            <div nz-col nzSpan="8">
              <nz-form-item>
                <nz-form-control>
                    <input formControlName="userName" nz-input PlaceHolder="User Name">
                  </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="8">
              <nz-form-item>
                <nz-form-control>
                  <input nz-input formControlName="mobilePhone" type="text" placeholder="Mobile Number">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="8">
              <nz-form-item>
                <nz-form-control>
                  <input nz-input formControlName="officePhone" type="text"  placeholder="Office Phone">
                </nz-form-control>
              </nz-form-item>
            </div>
            </div>
            <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
              <div nz-col nzSpan="16">
                    <nz-form-item>
                        <nz-form-control>
                            <input nz-input formControlName="street" type="text" id="street" placeholder="Street">
                          </nz-form-control>
                      </nz-form-item>
                </div>

              </div>
              <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                <div nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-control>
                      <input nz-input formControlName="city" type="text" id="city" placeholder="City">
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzSpan="8">
                <nz-form-item>
                  <nz-form-control>
                      <input nz-input formControlName="stateProvince" type="text" id="stateProvince" placeholder="State / Province">
                    </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Modules Required">
                        <nz-select formControlName="country"  nzPlaceHolder="Choose Country">
                          <nz-option nzValue="ZIMBABWE" nzLabel="ZIMBABWE"></nz-option>
                            <nz-option nzValue="SOUTH AFRICA" nzLabel="SOUTH AFRICA"></nz-option>
                            <nz-option nzValue="ZAMBIA" nzLabel="ZAMBIA"></nz-option>
                          </nz-select>
                    </nz-form-control>
                  </nz-form-item>
              </div>
              </div>

              <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                <div nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-control nzErrorTip="categories Required">
                      <nz-select formControlName="jobCategory"  nzPlaceHolder="Choose Job Category" [compareWith]="compareFn">
                        <nz-option  *ngFor="let item of categoryList" [nzLabel]="item.name" [nzValue]="item.name"></nz-option>
                        </nz-select>
                  </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzSpan="8">
                  <nz-form-item>
                    <nz-form-control>
                      <input nz-input formControlName="qualification" type="text" id="officePhone" placeholder="Enter qualification">
                    </nz-form-control>
                  </nz-form-item>
                </div>
                </div>
                <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                  <div nz-col nzSpan="16">
                    <nz-form-item>
                      <nz-form-control>
                          <textarea formControlName="experience" nz-input PlaceHolder="experiences (in current role and placement)"></textarea>
                        </nz-form-control>
                    </nz-form-item>
                    </div>
                  </div>
                  <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                    <div nz-col nzSpan="24">
                      <nz-form-item>
                        <nz-form-control>
                            <textarea formControlName="aboutVisitor" nz-input PlaceHolder="tell us About yourself..."></textarea>
                          </nz-form-control>
                      </nz-form-item>
                      </div>
                    </div>
                <nz-divider nzText="Skills" nzOrientation="left"></nz-divider>
                <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                  <div formArrayName="skills" *ngFor="let a of form.get('skills')['controls']; let j = index">
                    <div [formGroupName]="j" style="margin-bottom: 10px;">
                      <div nz-col nzSpan="15">
                    <input nz-input type="text" placeholder="Add skill..." name="skill" formControlName="skill">
                      </div>
                      <div nz-col nzSpan="5">
                        <button nz-button nzType="link" type="button" (click)="addSkill()" style="top: -10px;"><i nz-icon nzType="plus"></i></button>
                        <button nz-button nzType="link" type="button" (click)="removeSkill(j)" style="top: -10px;" ><i nz-icon nzType="minus"></i></button>
                      </div>
                    </div>
                  </div>
                </div>

                <nz-divider nzText="Certificates" nzOrientation="left"></nz-divider>
                <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                  <div formArrayName="certificates" *ngFor="let a of form.get('certificates')['controls']; let k = index">
                    <div [formGroupName]="k" style="margin-bottom: 10px;">
                      <div nz-col nzSpan="15">
                        <input nz-input type="text" placeholder="Add certificates..." name="certificate" formControlName="certificate">
                      </div>
                        <div nz-col nzSpan="5">
                          <button nz-button nzType="link" type="button" (click)="addCertificate()" style="top: -10px;"><i nz-icon nzType="plus"></i></button>
                          <button nz-button nzType="link" type="button" (click)="removeCertificates(k)" style="top: -10px;" ><i nz-icon nzType="minus"></i></button>
                      </div>
                    </div>
                    </div>
                </div>

                <nz-divider nzText="References" nzOrientation="left"></nz-divider>
                <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                  <div formArrayName="references" *ngFor="let a of form.get('references')['controls']; let i = index">
                    <div [formGroupName]="i" style="margin-bottom: 10px;">
                      <div nz-col nzSpan="5">
                        <input nz-input type="text" placeholder="fullName" name="refName" formControlName="refName">
                      </div>
                        <div nz-col nzSpan="5">
                        <input nz-input type="text" placeholder="Phone" name="refPhone" formControlName="refPhone">
                      </div>
                        <div nz-col nzSpan="5">
                        <input nz-input type="text" placeholder="Email" name="refEmail" formControlName="refEmail">
                      </div>
                        <div nz-col nzSpan="5">
                        <input nz-input type="text" placeholder="Address" name="refAddress" formControlName="refAddress">
                      </div>
                    </div>
                    <div>
                      <button nz-button nzType="link" type="button" (click)="addItem()" style="top: -10px;"><i nz-icon nzType="plus"></i></button>
                      <button nz-button nzType="link" type="button" (click)="removePhone(i)" style="top: -10px;" ><i nz-icon nzType="minus"></i></button>
                    </div>
                  </div>
                </div>


                <nz-divider nzDashed nzText="upload files and documents" nzOrientation="left">
                </nz-divider>
                <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                  <div nz-col nzSpan="8">
                    <nz-switch [(ngModel)]="switchValue" formControlName="filesPublic"></nz-switch>
</div></div>
                <div nz-row nzType="flex" nzJustify="center" [nzGutter]="8">
                  <div nz-col nzSpan="16">
    <nz-upload [(nzFileList)]="fileList" [nzBeforeUpload]="beforeUpload">
      <button type="button" [nzType]="'default'" nz-button><i nz-icon nzType="upload"></i>Select File</button>
    </nz-upload>
                  </div>
    <div nz-col nzSpan="8">
    <button
      nz-button
      [nzType]="'primary'"
      [nzLoading]="uploading"
      (click)="handleUpload()"
      [disabled]="fileList.length == 0"
      style="margin-top: 16px"
      type="button"
    >
      {{ uploading ? 'Uploading' : 'Start Upload' }}
    </button>

  </div>
                  </div>
                  <div nz-row nzType="flex" nzJustify="center" [nzGutter]="8">
                    <div nz-col nzSpan="16">
    <nz-list [nzDataSource]="avalailableFiles" [nzRenderItem]="defaultItem">
      <ng-template #defaultItem let-item>
        <nz-list-item>
          <a href="{{global.baseUrl}}/api/visitor/get-file/{{item}}/{{authService.user.id}}">

            <span nz-text nzType="warning"><u> {{ item }}</u></span>
          </a>
        </nz-list-item>
      </ng-template>
    </nz-list>
                    </div>
                    </div>
                <nz-divider nzDashed></nz-divider>



              <div nz-row nzType="flex" nzJustify="start" [nzGutter]="8">
                <div nz-col nzSpan="8">
                    <nz-form-item >
                        <nz-form-label  nzFor="password" nzRequired>Password</nz-form-label>
                        <nz-form-control  nzErrorTip="Please input your password!">
                          <input nz-input type="password" id="password" formControlName="password"
                            (ngModelChange)="updateConfirmValidator()" />
                        </nz-form-control>
                      </nz-form-item>
                </div>
                <div nz-col nzSpan="8">
                    <nz-form-item>
                        <nz-form-label  nzFor="checkPassword" nzRequired>Confirm Password</nz-form-label>
                        <nz-form-control  nzErrorTip="Password Invalid!">
                          <input nz-input type="password" formControlName="checkPassword" id="checkPassword" />
                          <ng-template #errorTpl let-control>
                            <ng-container *ngIf="control.hasError('required')">
                              Please confirm your password!
                            </ng-container>
                            <ng-container *ngIf="control.hasError('confirm')">
                              Two passwords that you enter is inconsistent!
                            </ng-container>
                          </ng-template>
                        </nz-form-control>
                      </nz-form-item>
                  </div>
              </div>
              <div nz-row nzType="flex" nzJustify="left" [nzGutter]="8">
                <div nz-col nzSpan="8">
                    <div class="form-actions">
                        <button nz-button nzType="primary" [disabled]="!form.valid" [nzLoading]="isSaveLoading"  type="submit" class="mr-2">Save</button>
                        <button nz-button nzType="danger" (click)="cancel()" type="button">Cancel</button>
                      </div>
                </div>
              </div>
        </nz-card>
        </form>
        <!-- {{form.value | json}} -->
</nz-tab>
<nz-tab nzTitle="Logo">
 <app-visitor-logo></app-visitor-logo>
</nz-tab>
